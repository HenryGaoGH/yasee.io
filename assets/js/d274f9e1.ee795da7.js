"use strict";(self.webpackChunkyasee_doc=self.webpackChunkyasee_doc||[]).push([[621],{6107:(X,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>o,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var r=n(4848),s=n(8453);n(5918);const t={sidebar_position:1},i="\u534f\u8bae\u65b9\u5f0f\u5bf9\u63a5(\u63a8\u8350)",d={id:"third/ble_protol",title:"\u534f\u8bae\u65b9\u5f0f\u5bf9\u63a5(\u63a8\u8350)",description:"---",source:"@site/docs/third/ble_protol.md",sourceDirName:"third",slug:"/third/ble_protol",permalink:"/docs/third/ble_protol",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/third/ble_protol.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"thirdId",previous:{title:"\u4e86\u89e3 Yasee \u534f\u8bae\u6a21\u5757\u8bbe\u8ba1\u7406\u5ff5",permalink:"/docs/third/yasee_third_process"},next:{title:"BLE Hook \u65b9\u5f0f(\u4e0d\u63a8\u8350)",permalink:"/docs/third/ble_hook"}},c={},l=[{value:"\u6982\u8981\u8bf4\u660e",id:"\u6982\u8981\u8bf4\u660e",level:2},{value:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",id:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",level:2}];function a(X){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...X.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u534f\u8bae\u65b9\u5f0f\u5bf9\u63a5\u63a8\u8350",children:"\u534f\u8bae\u65b9\u5f0f\u5bf9\u63a5(\u63a8\u8350)"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u8fd8\u4e0d\u4e86\u89e3, \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u6a21\u5757\u7684\u903b\u8f91\u6d41\u7a0b\u8bf7\u9605\u8bfb ",(0,r.jsx)(e.a,{href:"/docs/third/yasee_third_process",children:"Yasee SDK \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u6a21\u5757(\u534f\u8bae\u6a21\u5757) \u7406\u5ff5\u5256\u6790"}),",\u5148\u4e86\u89e3\u8bbe\u8ba1\u7406\u5ff5\u6709\u52a9\u4e8e\u66f4\u597d\u7684\u96c6\u6210."]}),"\n",(0,r.jsx)(e.h2,{id:"\u6982\u8981\u8bf4\u660e",children:"\u6982\u8981\u8bf4\u660e"}),"\n",(0,r.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765, \u5c06\u5206\u5e73\u53f0\u6765\u5e26\u9886\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u4eec \u5982\u4f55\u5b9a\u5236\u81ea\u5df1\u7684 ",(0,r.jsx)(e.code,{children:"\u7b97\u6cd5\u5e93"})," \u5e76\u66b4\u9732\u65b9\u6cd5\u7ed9Yasee.\n\u9996\u5148\u67e5\u770b Yasee \u5bf9\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u7684\u7edf\u4e00\u534f\u8bae\u5185\u5bb9:\n\u56e0\u6b64,\u6309\u7167\u76ee\u524d\u534f\u8bae\u7ea6\u5b9a\u5185\u5bb9,\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u7684 ",(0,r.jsx)(e.code,{children:"\u7b97\u6cd5\u5e93"})," \u4e2d\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u80fd\u529b:"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u901a\u8fc7 AdvertisementData \u83b7\u53d6 MAC\u5730\u5740\u7684\u80fd\u529b"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"\u5916\u8bbe"})," \u4e0a\u4f20\u7684\u6570\u636e\u89e3\u6790\u80fd\u529b"]}),"\n",(0,r.jsx)(e.li,{children:"\u5bf9 \u4e0a\u4f20\u3001\u53d1\u9001\u6570\u636e\u7684\u7b7e\u540d\u3001\u6821\u9a8c\u80fd\u529b"}),"\n",(0,r.jsx)(e.li,{children:"\u670d\u52a1\u3001\u7279\u5f81\u7684\u57fa\u7840\u6570\u636e"}),"\n",(0,r.jsx)(e.li,{children:"\u53d1\u9001\u7684\u6570\u636e\u5185\u5bb9"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",children:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5bf9\u4e8e\u4e0d\u53ef\u53d8\u7684\u6570\u636e(\u670d\u52a1&\u7279\u5f81\u3001App\u53d1\u9001\u7684\u9759\u6001\u6307\u4ee4)\u53ef\u4ee5\u76f4\u63a5\u63d0\u4f9b\u7684\u65b9\u5f0f\u8fdb\u884c\u7ed9\u4e88,\u6216\u8005 \u5c01\u88c5\u5728\u81ea\u5df1\u7684 ",(0,r.jsx)(e.code,{children:"\u7b97\u6cd5\u5e93"})," \u4e2d, \u66b4\u9732\u51fa\u83b7\u53d6\u65b9\u6cd5, \u6309\u7167TMD\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u6a21\u5757\u793a\u4f8b:"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-swift",children:'// \u5bf9\u4e8e \u9759\u6001\u6570\u636e\u5185\u5bb9\n// \u670d\u52a1 & \u7279\u5f81 \u6309\u7167 \u76f4\u63a5\u63d0\u4f9b\u7684\u65b9\u5f0f\u7531 Yasee \u76f4\u63a5\u786c\u7f16\u7801\u5230\u6a21\u5757\u4e2d\nvar service: [BleService] {[\n    BleService(uuid: UUID(uuidString: "XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX")!, chars: [\n        BleChars("\u7528\u4e8eApp\u53d1\u9001\u547d\u4ee4","XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",.writeCmd),\n        BleChars("\u7528\u4e8eApp\u63a5\u6536 Notify \u6570\u636e","XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",.notifyCmd),\n    ]),\n    BleService(uuid: UUID(uuidString: "XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX")!, chars: [\n        BleChars("\u8bbe\u5907\u5236\u9020\u5546\u7684\u4fe1\u606f","XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",.read),\n        BleChars("\u8bbe\u5907\u578b\u53f7\u4fe1\u606f","XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",.read),\n        BleChars("\u5e8f\u5217\u53f7\u4fe1\u606f","XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",.read),\n    ]),\n]}\n\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:"\u6570\u636e \u6821\u9a8c\u548c \u7b7e\u540d \u903b\u8f91 (\u975e\u5fc5\u9700)"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-swift",children:"// \u5bf9 \u53d1\u9001\u5230 \u5916\u8bbe\u7684\u6307\u4ee4\u6216\u8005\u6570\u636e \u8fdb\u884c\u9a8c\u8bc1\nfunc sign(_ raw: [Int]) throws -> Data {\n    // \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u7684 \u7b7e\u540d\u903b\u8f91\n}\nfunc check(_ raw: Data) throws -> Bool { \n    // \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u7684 \u6821\u9a8c\u903b\u8f91\n}\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsx)(e.li,{children:"\u6570\u636e\u89e3\u6790 \u548c \u83b7\u53d6 (\u56e0\u4e0e\u5916\u8bbe\u7684\u4ea4\u4e92\u6570\u636e\u4e3a\u654f\u611f\u6570\u636e,\u6240\u4ee5\u5bf9\u89e3\u6790\u8fc7\u7a0b Yasee \u4e0d\u505a\u5e72\u9884,\u53ea\u505a\u8f6c\u53d1)"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-swift",children:"// \u76ee\u524d\u4ec5\u4ec5\u662f\u83b7\u53d6\u4e86 MAC \u4fe1\u606f, \u4e0d\u6392\u9664\u540e\u671f\u4f1a\u6269\u5c55\u66f4\u591a\u5185\u5bb9\u7684\u53ef\u80fd\u6027\nfunc mac(_ avdData: AdvertisementData?) -> String? {\n    // \u751f\u6001\u5408\u4f5c\u4f19\u4f34 \u83b7\u53d6MAC \u7684\u903b\u8f91\n}\n    \n/// \u83b7\u53d6\u4ea4\u4e92\u6570\u636e\nfunc data(raw: Data) throws -> [String : String] {\n    // \u751f\u6001\u5408\u4f5c\u4f19\u4f34 \u5904\u7406 \u8f6c\u53d1\u7684\u539f\u59cb\u6570\u636e\u903b\u8f91 \n}\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"4",children:["\n",(0,r.jsx)(e.li,{children:"\u6307\u4ee4\u53d1\u9001"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-swift",children:'\u83b7\u53d6\u6240\u6709\u53d1\u9001\u6307\u4ee4\u4fe1\u606f\nfunc cmds() {\n    return [\n        Cmd(unsign: [Uint8], step: .start, desc: "\u5f00\u59cb\u6d4b\u91cf"),\n        Cmd(unsign: [Uint8], step: .end, desc: "\u7ed3\u675f\u6d4b\u91cf"),\n    ]\n}\n'})})]})}function o(X={}){const{wrapper:e}={...(0,s.R)(),...X.components};return e?(0,r.jsx)(e,{...X,children:(0,r.jsx)(a,{...X})}):a(X)}},5918:(X,e,n)=>{n.d(e,{A:()=>s});var r=n(4848);function s(X){return(0,r.jsx)("span",{style:{backgroundColor:X.color??"orange",color:"white",textAlign:"center",verticalAlign:"middle",display:"inline-block",borderRadius:"5px",padding:"0px 6px"},children:X.text??"\u6682\u672a\u8bbe\u7f6e\u5185\u5bb9"})}},8453:(X,e,n)=>{n.d(e,{R:()=>i,x:()=>d});var r=n(6540);const s={},t=r.createContext(s);function i(X){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof X?X(e):{...e,...X}}),[e,X])}function d(X){let e;return e=X.disableParentContext?"function"==typeof X.components?X.components(s):X.components||s:i(X.components),r.createElement(t.Provider,{value:e},X.children)}}}]);
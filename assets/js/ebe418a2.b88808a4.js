"use strict";(self.webpackChunkyasee_doc=self.webpackChunkyasee_doc||[]).push([[831],{9678:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>d,toc:()=>h});var i=n(4848),s=n(8453),o=n(5918),t=n(2519);const l={sidebar_position:2},c="\u6709\u9650BLE\u4ea4\u4e92\u6d41\u7a0bHook",d={id:"third/ble_hook",title:"\u6709\u9650BLE\u4ea4\u4e92\u6d41\u7a0bHook",description:"---",source:"@site/docs/third/ble_hook.md",sourceDirName:"third",slug:"/third/ble_hook",permalink:"/docs/third/ble_hook",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/third/ble_hook.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"thirdId",previous:{title:"\u534f\u8bae\u5bf9\u63a5\u65b9\u5f0f(\u63a8\u8350)",permalink:"/docs/third/ble_protol"}},a={},h=[{value:"\u6982\u8981\u8bf4\u660e",id:"\u6982\u8981\u8bf4\u660e",level:2},{value:"\u6d41\u7a0b\u56fe\u9274",id:"\u6d41\u7a0b\u56fe\u9274",level:2},{value:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",id:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"\u6709\u9650ble\u4ea4\u4e92\u6d41\u7a0bhook",children:"\u6709\u9650BLE\u4ea4\u4e92\u6d41\u7a0bHook"})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsxs)(r.p,{children:["\u5982\u679c\u8fd8\u4e0d\u4e86\u89e3, \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u6a21\u5757\u7684\u903b\u8f91\u6d41\u7a0b\u8bf7\u9605\u8bfb ",(0,i.jsx)(r.a,{href:"/docs/third/yasee_third_process",children:"Yasee SDK \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u6a21\u5757(\u534f\u8bae\u6a21\u5757) \u7406\u5ff5\u5256\u6790"}),",\u5148\u4e86\u89e3\u8bbe\u8ba1\u7406\u5ff5\u6709\u52a9\u4e8e\u66f4\u597d\u7684\u96c6\u6210."]}),"\n",(0,i.jsx)(r.admonition,{type:"warning",children:(0,i.jsxs)(r.p,{children:["\u76ee\u524d\u975e\u5fc5\u9700\u7684\u60c5\u51b5\u4e0b Yasee \u63a8\u8350 \u4f7f\u7528 ",(0,i.jsx)(r.strong,{children:"\u534f\u8bae\u65b9\u5f0f"})," \u5bf9\u63a5"]})}),"\n",(0,i.jsx)(r.h2,{id:"\u6982\u8981\u8bf4\u660e",children:"\u6982\u8981\u8bf4\u660e"}),"\n",(0,i.jsxs)(r.p,{children:["\u5bf9\u4e8e Hook \u7684\u65b9\u5f0f, Yasee \u63d0\u4f9b\u4e86 ",(0,i.jsx)(r.strong,{children:"\u6709\u9650\u7684 BLE \u64cd\u4f5c\u56de\u8c03"})," ",(0,i.jsx)("sup",{children:"\u26a0\ufe0f"}),",\u56e0\u6b64 \u63a5\u4e0b\u6765\u5c06\u5e26\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u4eec\u6765\u89c1\u8bc1\u5728\u6b64\u89c4\u5219\u4e0b\u7684 ",(0,i.jsx)(o.A,{text:"\u6700\u4f73\u5b9e\u8df5"})," \u7b56\u7565"]}),"\n",(0,i.jsxs)(r.admonition,{type:"warning",children:[(0,i.jsx)(r.p,{children:"\u6709\u9650\u7684 BLE \u64cd\u4f5c\u56de\u8c03:"}),(0,i.jsx)(r.p,{children:"\u4ec5\u9650\u4e8eGatt\u8fde\u63a5\u6210\u529f\u540e\u7684\u64cd\u4f5c\u5185\u5bb9,\u56e0\u4e3a \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u65e0\u6743\u64cd\u4f5c\u8bbe\u5907\u7684\u8fde\u63a5\u3001\u65ad\u5f00\u4ee5\u53ca\u91cd\u8fde\u8fc7\u7a0b!!"}),(0,i.jsx)(r.p,{children:"\u8fd8\u9700\u8981\u6ce8\u610f iOS \u548c Android\u7684\u65b9\u6cd5\u3001\u4ee5\u53ca\u8c03\u7528\u5dee\u5f02, \u603b\u7ed3\u6765\u8bf4 \u5c31\u662f \u5916\u8bbe\u8fde\u63a5\u6210\u529f\u4e4b\u540e\u7684hook\u5185\u5bb9"})]}),"\n",(0,i.jsx)(r.p,{children:"\u76ee\u524d\u6709\u9650\u7684 BLE Hook\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"\u53d1\u73b0\u670d\u52a1"}),"\n",(0,i.jsx)(r.li,{children:"\u53d1\u73b0\u7279\u5f81"}),"\n",(0,i.jsx)(r.li,{children:"\u83b7\u53d6 \u7279\u5f81 \u503c\u53d8\u5316\u66f4\u65b0"}),"\n",(0,i.jsx)(r.li,{children:"\u8bbe\u7f6e\u72b6\u6001\u66f4\u65b0"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"\u7b49\u7b49\u4e00\u7cfb\u5217 \u8fde\u63a5\u6210\u529f\u4e4b\u540e\u7684\u534f\u8bae\u5185\u5bb9, \u56e0\u6b64\u4e5f\u5c31\u610f\u5473\u7740 \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u9700\u8981\u5bf9HOOK\u7684\u56de\u8c03\u5185\u5bb9\u505a\u54cd\u5e94, \u4ee5\u53ca\u8c03\u7528 \u7279\u5f81\u3001\u670d\u52a1\u7684\u53d1\u73b0\u65f6\u673a; Notify\u8bbe\u7f6e\u901a\u77e5;\u6570\u636e\u53d1\u9001\u7b49\u903b\u8f91\u7684\u5904\u7406."}),"\n",(0,i.jsx)(r.h2,{id:"\u6d41\u7a0b\u56fe\u9274",children:"\u6d41\u7a0b\u56fe\u9274"}),"\n",(0,i.jsx)(t.A,{src:"/img/hook_process.png"}),"\n",(0,i.jsx)(r.h2,{id:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e",children:"\u793a\u4f8b\u5c55\u793a\u548c\u8bf4\u660e"}),"\n",(0,i.jsx)(r.p,{children:"\u5f53\u9009\u62e9 Hook \u65b9\u5f0f, \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u4eec\u9700\u8981\u63a5\u7ba1\u8bbe\u5907\u8fde\u63a5\u6210\u529f\u4e4b\u540e\u7684\u6240\u6709\u6b65\u9aa4, \u5305\u62ec\u4f46\u4e0d\u9650\u4e8e:"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"\u53d1\u73b0\u7279\u5f81(\u9700\u8981\u5408\u9002\u7684\u65f6\u673a\u8c03\u7528,\u5e76\u4f20\u9012\u670d\u52a1\u4fe1\u606f)"}),"\n",(0,i.jsx)(r.li,{children:"\u4e3b\u52a8 \u8bbe\u7f6e \u8bfb\u3001\u5199\u3001\u901a\u77e5\u7b49\u7b49\u4e00\u7cfb\u5217\u5c5e\u6027"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Yasee Hook\u90e8\u5206\u903b\u8f91:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-swift",children:"/// \u83b7\u53d6\u5230 \u670d\u52a1\npublic func peripheral(_ peripheral: CBPeripheral, didDiscoverServices error: (any Error)?) {\n    // Yasee \u65b9 \u901a\u77e5 \u751f\u6001\u5408\u4f5c\u4f19\u4f34\n}\n\n/// \u83b7\u53d6\u5230 \u7279\u5f81\npublic func peripheral(_ peripheral: CBPeripheral, didDiscoverCharacteristicsFor service: CBService, error: (any Error)?) {\n    // Yasee \u65b9 \u901a\u77e5 \u751f\u6001\u5408\u4f5c\u4f19\u4f34\n}\n\n/// \u83b7\u53d6\u5230\u503c\u53d8\u5316\npublic func peripheral(_ peripheral: CBPeripheral, didUpdateValueFor characteristic: CBCharacteristic, error: (any Error)?) {\n    // Yasee \u65b9 \u901a\u77e5 \u751f\u6001\u5408\u4f5c\u4f19\u4f34\n}\n\n/// \u8bbe\u7f6e \u901a\u77e5\u4e4b\u540e\npublic func peripheral(_ peripheral: CBPeripheral, didUpdateNotificationStateFor characteristic: CBCharacteristic, error: (any Error)?) {\n    // Yasee \u65b9 \u901a\u77e5 \u751f\u6001\u5408\u4f5c\u4f19\u4f34\n}\n... \u7b49\u7b49Hook\n"})}),"\n",(0,i.jsx)(r.p,{children:"\u751f\u6001\u5408\u4f5c\u4f19\u4f34\u9700\u8981\u5904\u7406\u7684\u90e8\u5206:"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"\u83b7\u5f97\u5168\u90e8services \u4e4b\u540e\u5904\u7406\u81ea\u5df1\u7684\u4e1a\u52a1\u903b\u8f91"}),"\n",(0,i.jsx)(r.li,{children:"\u4e3b\u52a8\u8bf7\u6c42 \u8bbe\u7f6e \u7279\u5f81, \u5e76\u643a\u5e26 \u4e1a\u52a1\u670d\u52a1\u4fe1\u606f"}),"\n",(0,i.jsx)(r.li,{children:"\u4e3b\u52a8\u8bf7\u6c42 \u8bbe\u7f6e \u8bfb\u3001\u5199\u3001\u901a\u77e5\u7b49\u7b49\u4e00\u4e9b\u5217\u5185\u5bb9, \u5e76\u643a\u5e26\u4e1a\u52a1\u4fe1\u606f"}),"\n",(0,i.jsx)(r.li,{children:"\u901a\u9053\u5efa\u7acb\u6210\u529f, Yasee \u8f6c\u53d1\u5916\u8bbe\u6570\u636e, \u751f\u6001\u5408\u4f5c\u4f19\u4f34\u5904\u7406\u4e1a\u52a1\u6570\u636e"}),"\n",(0,i.jsx)(r.li,{children:"\u4e3b\u52a8\u53d1\u9001\u7ed3\u679c \u7ed9 Yasee"}),"\n"]})]})}function x(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},2519:(e,r,n)=>{n.d(r,{A:()=>s});var i=n(4848);function s(e){return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"top",justifyContent:"center",flexWrap:"nowrap"},children:[!e.right&&(0,i.jsx)("img",{src:e.src,style:{flexGrow:1,width:e.width}}),(0,i.jsx)("div",{style:{marginLeft:"20px",flexGrow:1},dangerouslySetInnerHTML:{__html:e.text}}),(e.right??!1)&&(0,i.jsx)("img",{src:e.src,style:{flexGrow:1,width:e.width}})]})}},5918:(e,r,n)=>{n.d(r,{A:()=>s});var i=n(4848);function s(e){return(0,i.jsx)("span",{style:{backgroundColor:e.color??"orange",color:"white",textAlign:"center",verticalAlign:"middle",display:"inline-block",borderRadius:"5px",padding:"0px 6px"},children:e.text??"\u6682\u672a\u8bbe\u7f6e\u5185\u5bb9"})}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var i=n(6540);const s={},o=i.createContext(s);function t(e){const r=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:r},e.children)}}}]);